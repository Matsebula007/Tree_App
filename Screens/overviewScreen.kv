#: import FadeTransition kivy.uix.screenmanager.FadeTransition
<OverviewCard>
    id: overv_card
    elevation: 0
    #md_bg_color:244/255,249/255,253/255,1
    radius:[8]
    size_hint:.5,None
    height:dp(180)
    categ_key:categ_key
    grade:grade
    tug_count:tug_count
    contrib:contrib
    cat_name:cat_name
    Button:
        size_hint: .8,.8
        pos_hint: {"center_x":.5,"center_y":.5}  
        on_release:
            root.Navigate()
            root.add_categmary(cat_name.text,contrib.text,grade.text)

    #card primary key holder
    MDLabel:
        id:categ_key
        markup:True

    #main card 
    MDFloatLayout:
        size_hint:1,1
        pos_hint: {"center_x": .5,"center_y": .5}
        canvas:
            Color:
                rgba:app.courseschooser()
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[8]
        
        #Category identity
        MDLabel:
            id:cat_name
            text:root.Category
            font_name: 'assets/fonts/Poppins-Bold.ttf'
            font_size:"16sp"
            size_hint_x:1
            size_hint_y:.1
            pos_hint:{"center_x":.525,"center_y": .78}
        
        #Category letter grade
        MDLabel:
            id:grade
            text:root.Grade
            color:app.avg_color(grade.text)
            #color:"#EFF7F6"
            font_name: 'assets/fonts/CroissantOne-Regular.ttf'
            font_size:"34sp"
            size_hint_x:.8
            size_hint_y:.36
            pos_hint:{"center_x":.5,"center_y": .56}
        MDLabel:
            text:"Avg"
            color:"#EFF7F6"
            font_name: 'assets/fonts/CroissantOne-Regular.ttf'
            font_size:"16sp"
            size_hint_x:.3
            size_hint_y:.2
            pos_hint:{"center_x":.78,"center_y": .52}

        #TUG count
        MDLabel:
            id:tug_count
            text:root.TUG_count
            color:(30/255,47/255,151/255,1)
            font_name: 'assets/fonts/CroissantOne-Regular.ttf'
            font_size:"18sp"
            size_hint_x:.4
            size_hint_y:.28
            pos_hint:{"center_x":.8,"center_y": .9}

        #Contribution Header
        MDLabel:
            text:"Contribution"
            font_name: 'assets/fonts/Oxygen-Bold.ttf'
            font_size:"18sp"
            size_hint_x:.88
            size_hint_y:.2
            pos_hint:{"center_x":.5,"center_y": .3}

        #Contribution
        MDLabel:
            id:contrib
            text:root.Contribution
            color:(30/255,47/255,151/255,1)
            font_name: 'assets/fonts/CroissantOne-Regular.ttf'
            font_size:"30sp"
            size_hint_x:.9
            size_hint_y:.28
            padding:10,1
            pos_hint:{"center_x":.5,"center_y": .16}

<OverviewScreen>
    name:"overviewscreen"
    category_list:category_list
    crseid:crseid
    crsecr:crsecr
    md_bg_color: 244/255,249/255,253/255,1

    #home header bar
    MDFloatLayout:
        MDIconButton:
            icon:"chevron-left"
            icon_size:dp(30)
            pos_hint:{"center_y":.95}
            theme_text_color:'Custom'
            color:(30/255,47/255,151/255,1)
            on_release:
                app.clear_overview()
                app.update_coursescreen()
                root.manager.transition = FadeTransition()
                root.manager.current = "CoursesScreen"

        #Course ID label
        MDLabel:
            id:crseid
            text:""
            pos_hint: {"center_x": .72,"center_y": .95}
            font_name: 'assets/fonts/JosefinSans-Bold.ttf'
            font_size: "32dp"
    
        #Course Credit label
        MDLabel:
            id:crsecr
            text:""
            color:(30/255,47/255,151/255,1)
            size_hint:.3,.8
            pos_hint: {"center_x": .94,"center_y": .95}
            font_name: 'assets/fonts/CroissantOne-Regular.ttf'
            font_size: "18dp"

    MDFloatLayout:
        size_hint:.98,.08
        pos_hint: {"center_x": .5,"center_y": .86}
        canvas:
            Color:
                rgba:(238/255,238/255,238/255,.2)
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[10]
        MDLabel:
            id: overview
            text:"Course Overview"
            size_hint:.8,1
            pos_hint: {"center_x": .55,"center_y": .5}
            foreground_color: 1/255,1/255,1/255,.8
            background_color: 0,0,0,0
            padding:10
            font_name:'assets/fonts/Poppins-Bold.ttf'
            font_size:"22dp"

    #Category summary scroll
    MDFloatLayout:
        size_hint:.98,.72
        pos_hint:{"center_x":.5,"center_y": .46}
        canvas:
            Color:
                rgba:(244/255,249/255,253/255,1)
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[30]    
        ScrollView:
            do_scroll_y:True
            do_scroll_x:False
            size_hint_y:1
            pos_hint:{"center_x":.5,"center_y": .5}
            bar_width:2
            bar_color:(30/255,47/255,151/255,.8)
            GridLayout:
                orientation: "lr-tb"
                id: category_list
                cols: 2
                height:self.minimum_height
                row_default_height:80
                size_hint_y:None
                padding:10,20
                spacing:10,10
    
    
#navigation menu
    MDFloatLayout:
        size_hint:1,.1
        pos_hint: {"center_x": .5,"center_y": .05}
        canvas:
            Color:
                rgba:(0/255,0/255,0/255,1)
            Rectangle:
                size:self.size
                pos:self.pos
        MDIconButton:
            icon: "home"
            icon_size:dp(30)
            pos_hint: {"center_x":.14 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.update_coursescreen()
                app.update_home_sche()
                app.clear_overview()
                root.manager.transition = FadeTransition()
                root.manager.current = "Home"

        MDIconButton:
            icon: "view-agenda"
            icon_size:dp(30)
            pos_hint: {"center_x":.38 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.clear_overview()
                root.manager.transition = FadeTransition()
                root.manager.current = "todoScreen" 
        
        MDFloatLayout:
            size_hint:.2,.8
            pos_hint: {"center_x": .62,"center_y": .5}
            canvas:
                Color:
                    rgba:(30/255,47/255,151/255,.4)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[20]
            MDIconButton:
                icon: "library"
                icon_size:dp(30)
                pos_hint: {"center_x":.5 ,"center_y":.5}
                theme_text_color:"Custom"
                color:(30/255,47/255,151/255,1)
                on_press:
                    app.clear_overview()
                    app.update_coursescreen()
                    root.manager.transition = FadeTransition()
                    root.manager.current = "CoursesScreen"
                    
        MDIconButton:
            icon: "calendar"
            icon_size:dp(30)
            pos_hint: {"center_x":.86 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.clear_overview()
                app.clear_for_week()
                app.update_month()
                root.manager.transition = FadeTransition()
                root.manager.current = "Calendarscreen"