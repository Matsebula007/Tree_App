#: import FadeTransition kivy.uix.screenmanager.FadeTransition
<TableCard>
    id: table_card
    elevation: 0
    radius:[8]
    size_hint:1,None
    height:dp(100)
    tittle:tittle
    #card primary key holder
    MDLabel:
        id:key
        markup:True
    MDFloatLayout:
        pos_hint: {'center_x':.5,'center_y':.5}
        size_hint:1,1
        canvas:
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[15]
    #Event times
        MDFloatLayout:
            size_hint:.65,.36
            pos_hint: {"center_x":.67,"center_y": .83}
            canvas:
                Color:
                    rgba:app.calendarchooser()
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[15]
           
            #Event Start time
            Button:
                text:root.start_time
                markup: True
                color: 1/255,1/255,1/255,1
                font_name: 'assets/fonts/JosefinSans-Bold.ttf'
                font_size:"16sp"
                size_hint_x:.48
                size_hint_y:1
                pos_hint:{"center_x":.28,"center_y": .5}
                background_color:0,0,0,0
                on_release:app.delete_event(table_card,tittle.text)

            MDLabel:
                text:"-"
                color:(30/255,47/255,151/255,.4)
                font_name: 'assets/fonts/JosefinSans-Bold.ttf'
                font_size:"30sp"
                size_hint_x:.1
                size_hint_y:.1
                pos_hint:{"center_x":.54,"center_y":.5}
            #Event End time
            MDLabel:
                text:root.end_time
                markup: True
                color: 1/255,1/255,1/255,1
                font_name: 'assets/fonts/JosefinSans-SemiBold.ttf'
                font_size:"16sp"
                size_hint_x:.48
                size_hint_y:1
                pos_hint:{"center_x":.82,"center_y": .5}

    #Event name and Location
        MDFloatLayout:
            size_hint:.65,.58
            pos_hint: {"center_x":.67,"center_y": .3}
            canvas:
                Color:
                    rgba:(244/255,249/255,253/255,1)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[15]
            #Event name
            MDLabel:
                id:tittle
                text:root.event_Name
                markup: True
                color: 1/255,1/255,1/255,1
                font_name: 'assets/fonts/JosefinSans-Bold.ttf'
                font_size:"24sp"
                size_hint_x:1
                size_hint_y:.6
                padding:10
                pos_hint:{"center_x":.5,"center_y": .74}
            #Event venue
            MDLabel:
                text:root.event_venue
                markup: True
                color: 30/255,47/255,151/255,1
                font_name: 'assets/fonts/JosefinSans-Regular.ttf'
                font_size:"16sp"
                size_hint_x:.6
                size_hint_y:.2
                pos_hint:{"center_x":.5,"center_y": .26}
            #Time span
            MDLabel:
                text:"72 mins"
                markup: True
                color: 30/255,47/255,151/255,1
                font_name: 'assets/fonts/JosefinSans-Regular.ttf'
                font_size:"10sp"
                size_hint_x:.2
                size_hint_y:.2
                pos_hint:{"center_x":.8,"center_y": .08}

    #Event date
        MDFloatLayout:
            size_hint:.32,1
            pos_hint: {"center_x":.17,"center_y":.5}
            canvas:
                Color:
                    rgba:app.calendarchooser()
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[15]
            #Event date
            MDLabel:
                text:root.evnt_day
                markup: True
                color:30/255,47/255,151/255,1
                font_name: 'assets/fonts/CroissantOne-Regular.ttf'
                font_size:"30sp"
                size_hint_x:.8
                size_hint_y:.5
                pos_hint:{"center_x":.54,"center_y": .8}
            #Event month
            MDLabel:
                text:root.evnt_date
                markup: True
                color: 1/255,1/255,1/255,1
                font_name: 'assets/fonts/CroissantOne-Regular.ttf'
                font_size:"26sp"
                size_hint_x:.4
                size_hint_y:.4
                pos_hint:{"center_x":.5,"center_y": .32}



<DaySelectionCard>
    id: day_selection
    elevation: 0
    radius:[8]
    size_hint:1,.7
    #height:dp(50)
    md_bg_color: 248/255,249/255,253/255,1
    MDFloatLayout:
        size_hint:1,1
        pos_hint: {"center_x":.5,"center_y":.5}
        canvas:
            Color:
                rgba:app.calendarchooser()
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[15]
        #Event date
        Button:
            id:selct_day
            text:root.selected_day 
            size_hint:1,1
            pos_hint: {"center_x":.5,"center_y": .5}
            background_color:0,0,0,0
            font_name: 'assets/fonts/JosefinSans-Bold.ttf'
            font_size: "20dp"
            color: 1,1,1,1
            on_press:
                app.clear_for_week()

<WeekdayCard>
    id: table_card
    elevation: 0
    radius:[15]
    size_hint:None,.7
    width:dp(50)
    md_bg_color:(30/255,47/255,151/255,.5)
    MDFloatLayout:
        size_hint: 1,1
        pos_hint: {"center_x":.5,"center_y": .5}
        Button:
            id:dayname
            text:root.dayname
            size_hint:.9,.9
            pos_hint: {"center_x":.5,"center_y": .5}
            background_color:0,0,0,0
            font_name: 'assets/fonts/JosefinSans-Bold.ttf'
            font_size: "18dp"
            color: 1,1,1,1
            on_press:
                app.selected_weekday(dayname.text)
                


MDScreen:
    name:"Calendarscreen"
    md_bg_color: 244/255,249/255,253/255,1
    table_list:table_list
    table_month:table_month
    week_text:week_text
    statusbarW:statusbarW
    statusbarM:statusbarM
    days_of_week:days_of_week
    timetable_view:timetable_view
    #selection control
    MDFloatLayout:
        MDLabel:
            text:"Your Timetable"
            pos_hint: {"center_x":.54,"center_y": .96}
            font_name: 'assets/fonts/JosefinSans-Bold.ttf'
            font_size:"24dp"
        MDFloatLayout:
            id:statusbarW
            size_hint:.46,.002
            pos_hint:{"center_x":.27, "center_y":.885}
            md_bg_color:"#7BDFF2"
        Button:
            id:week_text
            text:"This Week"
            color:63/255,72/255,204/255,1
            pos_hint: {"center_x":.25,"center_y": .9}
            font_name: 'assets/fonts/JosefinSans-Regular.ttf'
            font_size:"18sp"
            size_hint:.28,.04
            background_color:0,0,0,0
            on_press:
                table_month.color= 63/255,72/255,204/255,.7
                week_text.color= 63/255,72/255,204/255,1
                app.clear_for_week()
        MDFloatLayout:
            id:statusbarM
            size_hint:.46,.002
            pos_hint:{"center_x":.73, "center_y":.885}
            md_bg_color:"#EEF7F6"
        Button:
            id:table_month
            text:"August"
            color:63/255,72/255,204/255,.7
            pos_hint: {"center_x":.77,"center_y": .9}
            font_name: 'assets/fonts/JosefinSans-Regular.ttf'
            font_size:"18sp"
            size_hint:.3,.2
            background_color:0,0,0,0
            on_press:
                week_text.color= 63/255,72/255,204/255,.7
                table_month.color= 63/255,72/255,204/255,1
                root.manager.transition = FadeTransition()
                root.manager.current ="monthscreen"

    #top add event button
    MDFloatLayout:
        size_hint:.38,.06
        pos_hint: {"center_x": .78,"center_y": .96}
        canvas.before:
            Color:
                rgba:(30/255,47/255,151/255,.5)
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[15]
        Button:
            text: "Add Event"
            size_hint:1,1
            pos_hint: {"center_x":.58,"center_y": .5}
            background_color:0,0,0,0
            font_name: 'assets/fonts/JosefinSans-Bold.ttf'
            font_size: "18dp"
            color: 1,1,1,1
            on_press:
                root.manager.transition = FadeTransition()
                root.manager.current = "add_event"
        MDIconButton:
            icon:"plus"
            pos_hint:{"center_x": .1,"center_y": .5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                root.manager.transition = FadeTransition()
                root.manager.current = "add_event"
    #Weekdays Bar
    MDFloatLayout:
        size_hint:.97,.1
        pos_hint: {"center_x": .5,"center_y": .82}
        canvas:
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[15]
        ScrollView:
            do_scroll_y:False
            do_scroll_x:True
            size_hint:1,1
            pos_hint:{"center_x":.5,"center_y":.5}
            bar_width:1
            bar_color:(30/255,47/255,151/255,.8)
            MDGridLayout:
                orientation: "lr-bt"
                id:days_of_week
                rows:1
                width:self.minimum_width
                row_force_default: False
                size_hint_x:None
                padding:10,15
                spacing:10,10
                adaptive_width:True
                

    
    #Timetable view
    MDFloatLayout:
        id:timetable_view
        size_hint:.99,.7
        pos_hint:{"center_x":.5,"center_y": .42}  
        canvas:
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[15]  
        ScrollView:
            do_scroll_y:True
            do_scroll_x:False
            size_hint_y:1
            pos_hint:{"center_x":.5,"center_y": .5}
            bar_width:2
            bar_color:(30/255,47/255,151/255,.8)
            MDGridLayout:
                orientation: "lr-tb"
                id: table_list
                cols: 1
                height:self.minimum_height
                row_default_height:50
                size_hint_y:None
                padding:10,15
                spacing:10,10
            
                
        
        
    #navigation menu
    MDFloatLayout:
        size_hint:1,.1
        pos_hint: {"center_x": .5,"center_y": .05}
        canvas:
            Color:
                rgba:(0/255,0/255,0/255,1)
            Rectangle:
                size:self.size
                pos:self.pos
                
        MDIconButton:
            icon: "home"
            icon_size:dp(30)
            pos_hint: {"center_x":.14 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                root.manager.transition = FadeTransition() 
                root.manager.current = "Home"

        MDIconButton:
            icon: "view-agenda"
            icon_size:dp(30)
            pos_hint: {"center_x":.38 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                root.manager.transition = FadeTransition() 
                root.manager.current = "todoScreen" 
        
        MDIconButton:
            icon: "library"
            icon_size:dp(30)
            pos_hint: {"center_x":.62 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.update_coursescreen()
                root.manager.transition = FadeTransition() 
                root.manager.current = "CoursesScreen"
        MDFloatLayout:
            size_hint:.2,.8
            pos_hint: {"center_x": .86,"center_y": .5}
            canvas:
                Color:
                    rgba:(30/255,47/255,151/255,.2)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[20]
        
            MDIconButton:
                icon: "calendar"
                icon_size:dp(30)
                pos_hint: {"center_x":.5 ,"center_y":.5}
                theme_text_color:"Custom"
                color:(30/255,47/255,151/255,1)
                on_press:
                    root.manager.transition.direction = "left"
                    root.manager.current = "add_event"
   