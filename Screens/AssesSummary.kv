#: import FadeTransition kivy.uix.screenmanager.FadeTransition
<AssessmentCard>
    id: assessmnt_card
    elevation: 0
    radius:[8]
    size_hint:.5,None
    height:dp(140)
    assmtContr:assmtContr
    assmtMark:assmtMark
    assmtName:assmtName
    assmtWeight:assmtWeight
    testpk:testpk

   
    MDLabel:
        id:testpk
        
    MDFloatLayout:
        size_hint:1,1
        pos_hint: {'center_x':.5,'center_y':.5}
        canvas:
            Color:
                rgba:app.courseschooser()
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[15]
        MDLabel:
            id:assmtName
            text:root.testName
            size_hint:.96,.1
            pos_hint: {'center_x':.5,'center_y': .84}
            foreground_color: 1/255,1/255,1/255,1
            background_color: 0,0,0,0
            padding:6
            font_name:'assets/fonts/Poppins-Bold.ttf'
            font_size:"17dp"
        
        MDLabel:
            id:assmtMark
            text:root.testMark
            size_hint:.8,.1
            color:(30/255,47/255,151/255,1)
            pos_hint: {'center_x':.9,'center_y': .6}
            foreground_color: 1/255,1/255,1/255,1
            background_color: 0,0,0,0
            padding:8
            font_name:'assets/fonts/CroissantOne-Regular.ttf'
            font_size:"34dp"
        
        MDLabel:
            id:assmtWeight
            text:root.testWeight
            size_hint:.4,.1
            pos_hint: {'center_x':.3,'center_y': .6}
            foreground_color: 1/255,1/255,1/255,1
            background_color: 0,0,0,0
            padding:8
            font_name:'assets/fonts/CroissantOne-Regular.ttf'
            font_size:"16dp"
        MDLabel:
            id:assmtContr
            text:root.testContrib
            size_hint:.8,.1
            color:app.asmark_color(assmtContr.text,assmtWeight.text)
            pos_hint: {'center_x':.5,'center_y': .2}
            foreground_color: 1/255,1/255,1/255,1
            background_color: 0,0,0,0
            padding:8
            font_name:'assets/fonts/CroissantOne-Regular.ttf'
            font_size:"28dp"
        MDFloatLayout:
            id:nbar
            size_hint:.02,.1
            pos_hint:{"center_x":.96, "center_y":.2}
            md_bg_color:assmtContr.color

        MDIconButton:
            icon: 'delete'
            icon_size:dp(18)
            theme_text_color: "Custom"
            text_color:(30/255,47/255,151/255,.5)
            pos_hint:{"center_x":.84,"center_y":.9}
            on_release:
                app.delete_assmt(assessmnt_card,assmtName.text)
                root.Navigate()
        



<AssesSummary>:
    md_bg_color: 244/255,249/255,253/255,.8
    name:"AssessmentSummary"
    crseid:crseid
    crsecr:crsecr
    categName:categName
    categWeight:categWeight
    categContrib:categContrib
    avgbar:avgbar
    categavar:categavar
    assessmnt_list:assessmnt_list
    

    #header bar
    MDFloatLayout:
    
        MDIconButton:
            icon:"chevron-left"
            icon_size:dp(30)
            pos_hint:{"center_y":.95}
            theme_text_color:'Custom'
            color:(30/255,47/255,151/255,1)
            on_release:
                app.update_overviwscreen()
                app.clear_assessmary()
                root.manager.transition = FadeTransition()
                root.manager.current = "overviewscreen"
    
        #Course ID label
        MDLabel:
            id:crseid
            text:""
            pos_hint: {"center_x": .72,"center_y": .95}
            font_name: 'assets/fonts/JosefinSans-Bold.ttf'
            font_size: "32dp"
    
        #Course Credit label
        MDLabel:
            id:crsecr
            text:""
            size_hint:.3,.8
            pos_hint: {"center_x": .94,"center_y": .95}
            font_name: 'assets/fonts/CroissantOne-Regular.ttf'
            font_size: "18dp"

    MDFloatLayout:
        size_hint:.96,.28
        pos_hint: {"center_x": .49,"center_y": .76}
        MDLabel:
            id: categName
            text:""
            size_hint: .6,.2
            pos_hint: {"center_x": .32,"center_y": .86}
            foreground_color: 1,1,1,1
            background_color: 0,0,0,0
            padding:4
            font_name:'assets/fonts/Oxygen-Bold.ttf'
            font_size:"20dp"

        #Tug weight
        MDFloatLayout:
            size_hint:.27,.6
            pos_hint: {"center_x": .45,"center_y": .32}
            canvas:
                Color:
                    rgba:(30/255,47/255,151/255,.5)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[7.5]
            MDLabel:
                text:"Weight"
                size_hint:1,.2
                color: (.2,.2,.2,1)
                pos_hint: {"center_x": .54,"center_y": .82}
                foreground_color: 1/255,1/255,1/255,1
                background_color: 0,0,0,0
                padding:2
                font_name:'assets/fonts/Oxygen-Bold.ttf'
                font_size:"17dp"
            MDLabel:
                id: categWeight
                text:""
                size_hint: 1,.5
                color:(1,1,1,.8)
                pos_hint: {"center_x": .62,"center_y": .4}
                foreground_color: 1/255,1/255,1/255,.8
                background_color: 0,0,0,0
                padding:2
                font_name:'assets/fonts/CroissantOne-Regular.ttf'
                font_size:"38dp"

        #Tug Contribution
        MDFloatLayout:
            size_hint:.37,.96
            pos_hint: {"center_x": .805,"center_y": .5}
            canvas:
                Color:
                    rgba:(30/255,47/255,151/255,.6)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[7.5]
            MDLabel:
                text:"Contribute"
                size_hint: 1,.2
                pos_hint: {"center_x":.5,"center_y": .84}
                foreground_color: 1/255,1/255,1/255,1
                background_color: 0,0,0,0
                padding:8
                font_name:'assets/fonts/Oxygen-Bold.ttf'
                font_size:"20dp"
            MDLabel:
                id: categContrib
                text:""
                color:(1,1,1,.9)
                size_hint:1,.5
                pos_hint: {"center_x": .55,"center_y": .4}
                padding:1
                font_name:'assets/fonts/CroissantOne-Regular.ttf'
                font_size:"48dp"

                    
        MDFloatLayout:
            pos_hint: {'center_x':.2,'center_y':.44}
            size_hint:.4,.4
            MDLabel:
                id:categavar
                text: "0.0"
                color:app.avg_color(categavar.text,)
                pos_hint: {'center_x':.55,'center_y':.5}
                size_hint: 1, 1
                foreground_color: 1/255,1/255,1/255,1
                background_color: 0,0,0,0
                padding:2
                font_name:'assets/fonts/CroissantOne-Regular.ttf'
                font_size:"38dp"
       
        MDFloatLayout:
            id:avgbar
            size_hint:.56,.04
            pos_hint:{"center_x":.3, "center_y":.7}
            canvas:
                Color:
                    rgba:categavar.color
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[2]
            
            

    HoverButton:
        size_hint:.2,.048
        text: "+"
        font_name: 'assets/fonts/CroissantOne-Regular.ttf'
        font_size: "32dp"
        background_color:1,1,1,0
        pos_hint: {"center_x":.16,"center_y":.66}
        color: 1,1,1,1     
        canvas.before:
            Color:
                rgba:self.background
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[7.5]
        on_release:
            app.getCateg(categName.text)
            app.clear_add_assesmnt()
            root.manager.transition = FadeTransition()
            root.manager.current = "addAssesment"
    

    #Assessment summary scroll
    MDFloatLayout:
        size_hint:.99,.52
        pos_hint:{"center_x":.5,"center_y": .36}
        canvas:
            Color:
                rgba:(244/255,249/255,253/255,1)
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[20]    
        ScrollView:
            do_scroll_y:True
            do_scroll_x:False
            size_hint_y:1
            pos_hint:{"center_x":.5,"center_y": .5}
            bar_width:2
            bar_color:(30/255,47/255,151/255,.8)
            GridLayout:
                orientation: "lr-tb"
                id: assessmnt_list
                cols: 2
                height:self.minimum_height
                row_default_height:80
                size_hint_y:None
                padding:10,10
                spacing:10,10
    
                
#navigation menu
    MDFloatLayout:
        size_hint:1,.1
        pos_hint: {"center_x": .5,"center_y": .05}
        canvas:
            Color:
                rgba:(0/255,0/255,0/255,1)
            Rectangle:
                size:self.size
                pos:self.pos

        MDIconButton:
            icon: "home"
            icon_size:dp(30)
            pos_hint: {"center_x":.14 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.update_coursescreen()
                app.update_home_sche()
                app.clear_overview()
                app.clear_assessmary()
                root.manager.transition = FadeTransition()
                root.manager.current = "Home"

        MDIconButton:
            icon: "view-agenda"
            icon_size:dp(30)
            pos_hint: {"center_x":.38 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.clear_overview()
                app.clear_assessmary()
                root.manager.transition = FadeTransition()
                root.manager.current = "todoScreen" 
        
        MDFloatLayout:
            size_hint:.2,.8
            pos_hint: {"center_x": .62,"center_y": .5}
            canvas:
                Color:
                    rgba:(30/255,47/255,151/255,.6)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[20]
            MDIconButton:
                icon: "library"
                icon_size:dp(30)
                pos_hint: {"center_x":.5 ,"center_y":.5}
                theme_text_color:"Custom"
                color:(30/255,47/255,151/255,1)
                on_press:
                    app.clear_assessmary()
                    app.update_overviwscreen()
                    root.manager.transition = FadeTransition()
                    root.manager.current =  "overviewscreen"
                    
        MDIconButton:
            icon: "calendar"
            icon_size:dp(30)
            pos_hint: {"center_x":.86 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.clear_overview()
                app.clear_assessmary()
                app.clear_for_week()
                #app.update_month()
                root.manager.transition = FadeTransition()
                root.manager.current = "Calendarscreen"
