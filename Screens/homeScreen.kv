#: import FadeTransition kivy.uix.screenmanager.FadeTransition

<TaskCard>
    id:task_card
    elevation: 0
    md_bg_color:74/255,222/255,222/255,.6
    #md_bg_color:238/255,238/255,238/255,1
    radius:[8]
    size_hint:None,.99
    #height:dp(160)
    width: dp(150)
    MDLabel:
        id:cardpk
        markup:True
    Button:
        size_hint: .8,.8
        pos_hint: {"center_x":.5,"center_y":.5}  
        background_color:0,0,0,0  
        on_release:
            app.selected_weekday(weekday.text)
    #weekday
    MDLabel:
        id:weekday
        text:root.weekday
        color:(30/255,47/255,151/255,.9)
        font_name: 'assets/fonts/JosefinSans-SemiBold.ttf'
        font_size:"16sp"
        size_hint_x:.4
        size_hint_y:.11
        pos_hint:{"center_x":.5,"center_y": .88}
    #day date
    MDLabel:
        id:venue
        text:root.venue
        font_name:'assets/fonts/CroissantOne-Regular.ttf'
        font_size:"18sp"
        size_hint_x:.8
        size_hint_y:.3
        pos_hint:{"center_x": .5,"center_y":.68}
    #bar 
    MDFloatLayout:
        id:nbar
        size_hint:.04,.22
        pos_hint:{"center_x":.08, "center_y":.4}
        md_bg_color:30/255,47/255,151/255,.8

    MDLabel:
        id:title
        text:root.title
        font_name:'assets/fonts/JosefinSans-Regular.ttf'
        font_size:"16sp"
        size_hint_x:.8
        size_hint_y:.32
        pos_hint:{"center_x":.52,"center_y":.4}

    MDLabel:
        id:frmtime
        text:root.frmtime
        color:(30/255,47/255,151/255,.8)
        font_name: 'assets/fonts/JosefinSans-SemiBold.ttf'
        font_size:"14sp"
        size_hint_x:.42
        size_hint_y:.1
        pos_hint:{"center_x":.26,"center_y": .1}
    MDLabel:
        text:"-"
        color:(30/255,47/255,151/255,.4)
        font_name: 'assets/fonts/JosefinSans-Bold.ttf'
        font_size:"30sp"
        size_hint_x:.1
        size_hint_y:.1
        pos_hint:{"center_x":.52,"center_y": .12}

    MDLabel:
        id:totime
        text:root.totime
        color:(30/255,47/255,151/255,.8)
        font_name: 'assets/fonts/JosefinSans-SemiBold.ttf'
        font_size:"14sp"
        size_hint_x:.42
        size_hint_y:.1
        pos_hint:{"center_x":.76,"center_y": .1}
            
<CourseDisplayCard>
    elevation: 0
    md_bg_color:app.courseschooser()
    radius:[8]
    size_hint:1,None
    height:dp(150)
    Button:
        size_hint: .8,.8
        background_color:0,0,0,0 
        pos_hint: {"center_x":.5,"center_y":.5}    
        on_release:root.navigate()
    
    MDLabel:  
        id:courseid
        text:root.Courseid
        font_name: 'assets/fonts/Poppins-Bold.ttf'
        font_size:"28sp"
        size_hint_x:.8
        size_hint_y:.3
        pos_hint:{"center_x":.5,"center_y": .8}
    
    MDLabel:
        #reead data from json database
        id:average
        text:root.average
        font_name:'assets/fonts/CroissantOne-Regular.ttf'
        font_size:"30sp"
        color:(2/255,44/255,26/255,1)
        size_hint_x:.8
        size_hint_y:.3
        pos_hint:{"center_x": .5,"center_y":.4}



MDScreen:
    name:"Home"
    tasks_home:tasks_home
    course_home: course_home
    md_bg_color: 244/255,249/255,253/255,1

    #schedule label
    MDLabel:
        text:"Your schedule"
        font_name:"assets/fonts/JosefinSans-Bold.ttf"
        font_size:"28dp"
        pos_hint: {"center_x":.55,"center_y": .95}

    #task view_home
    MDFloatLayout:
        size_hint:1,.22
        pos_hint: {"center_x": .5,"center_y": .8}
        canvas:
            RoundedRectangle:
                size:self.size
                pos:self.pos
                radius:[30]  
        ScrollView:
            do_scroll_y:False
            do_scroll_x:True
            size_hint:1,1
            pos_hint:{"center_x":.5,"center_y":.5}
            bar_width:1
            bar_color:(30/255,47/255,151/255,.8)
            GridLayout:
                orientation:"rl-tb"
                id: tasks_home
                rows: 1
                width:self.minimum_width
                row_force_default: False
                size_hint_x:None
                padding:8
                spacing:8
                adaptive_width:True
    
    #courses label
    MDLabel:
        text:"Your courses"
        font_name:"assets/fonts/JosefinSans-Bold.ttf"
        font_size:"28dp"
        pos_hint: {"center_x":.55,"center_y": .64}
   
    #course view_home
    MDFloatLayout:
        size_hint:.98,.6
        pos_hint:{"center_x":.5,"center_y": .5}    
        ScrollView:
            do_scroll_y:True
            do_scroll_x:False
            size_hint_y:.85
            pos_hint:{"center_x":.5,"center_y": .26}
            bar_width:1
            GridLayout:
                #orientation: "lr-tb"
                id: course_home
                cols: 2
                height:self.minimum_height
                row_default_height:100
                size_hint_y:None
                padding:10,10
                spacing:10,10
                
#navigation menu
    MDFloatLayout:
        size_hint:1,.1
        pos_hint: {"center_x": .5,"center_y": .05}
        canvas:
            Color:
                rgba:(0/255,0/255,0/255,1)
            Rectangle:
                size:self.size
                pos:self.pos
        MDFloatLayout:
            size_hint:.2,.8
            pos_hint: {"center_x": .14,"center_y": .5}
            canvas:
                Color:
                    rgba:(30/255,47/255,151/255,.4)
                RoundedRectangle:
                    size:self.size
                    pos:self.pos
                    radius:[20]

            MDIconButton:
                icon: "home"
                icon_size:dp(30)
                pos_hint: {"center_x":.5 ,"center_y":.5}
                theme_text_color:"Custom"
                color:(30/255,47/255,151/255,1)
                on_press:
                    app.update_coursescreen()
                    app.update_home_sche()
                    root.manager.transition = FadeTransition()
                    root.manager.current = "Home"

        MDIconButton:
            icon: "view-agenda"
            icon_size:dp(30)
            pos_hint: {"center_x":.38 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                root.manager.transition = FadeTransition()
                root.manager.current = "todoScreen" 
        
        MDIconButton:
            icon: "library"
            icon_size:dp(30)
            pos_hint: {"center_x":.62 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.update_coursescreen()
                root.manager.transition = FadeTransition()
                root.manager.current = "CoursesScreen"
        
        MDIconButton:
            icon: "calendar"
            icon_size:dp(30)
            pos_hint: {"center_x":.86 ,"center_y":.5}
            theme_text_color:"Custom"
            text_color: 1,1,1,1
            on_press:
                app.clear_for_week()
                root.manager.transition = FadeTransition()
                root.manager.current = "Calendarscreen"
